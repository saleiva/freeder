(function(i){function j(c,a,d,b,e,f,k){var h,g;if(k){h=d===0?"":a.slice(-d);g=a.slice(-b)}else{h=a.slice(0,d);g=a.slice(0,b)}if(e.html(g+f).width()<e.html(h+f).width())return b;g=parseInt((d+b)/2,10);h=k?a.slice(-g):a.slice(0,g);e.html(h+f);if(e.width()===c)return g;if(e.width()>c)b=g-1;else d=g+1;return j(c,a,d,b,e,f,k)}i.fn.truncate=function(c){c=i.extend({width:"auto",token:"&hellip;",center:false,addclass:false,addtitle:false},c);return this.each(function(){var a=i(this),d={fontFamily:a.css("fontFamily"),
fontSize:a.css("fontSize"),fontStyle:a.css("fontStyle"),fontWeight:a.css("fontWeight"),"font-variant":a.css("font-variant"),"text-indent":a.css("text-indent"),"text-transform":a.css("text-transform"),"letter-spacing":a.css("letter-spacing"),"word-spacing":a.css("word-spacing"),display:"none"},b=a.text();d=i("<span/>").css(d).html(b).appendTo("body");var e=d.width(),f=!isNaN(parseFloat(c.width))&&isFinite(c.width)?c.width:a.width();if(e>f){d.text("");if(c.center){f=parseInt(f/2,10)+1;e=b.slice(0,j(f,
b,0,b.length,d,c.token,false))+c.token+b.slice(-1*j(f,b,0,b.length,d,"",true))}else e=b.slice(0,j(f,b,0,b.length,d,c.token,false))+c.token;c.addclass&&a.addClass(c.addclass);c.addtitle&&a.attr("title",b);a.empty().append(e)}d.remove()})}})(jQuery);